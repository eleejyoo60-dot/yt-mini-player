<!doctype html>
<html lang="ko">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Light YouTube Playlist Player</title>
<style>
  :root {
    --w: 150px; --h: 802.5px;              /* 16:9 기본 */
    --bg:#f7f8fa; --fg:#111;               /* 배경/글자 */
    --card:#fff; --line:#e6e9ef;           /* 카드/테두리 */
    --accent:#a9bfd6; --accent2:#9cbbab;   /* 포커스 컬러 */
  }
  @media (min-width:768px){ :root{ --w:560px; --h:315px; } }
  @media (min-width:1024px){ :root{ --w:720px; --h:405px; } }

  *{ box-sizing:border-box }
  body{
    margin:0; background:var(--bg); color:var(--fg);
    font-family:system-ui, Arial, sans-serif;
    display:flex; min-height:100vh; align-items:center; justify-content:center;
  }
  .wrap{ width:var(--w); display:flex; flex-direction:column; align-items:center; gap:10px }

  #frame{ width:100%; height:var(--h) }
  #frame iframe{
    width:100%; height:100%; border:1px solid var(--line);
    background:var(--card); border-radius:14px;
    box-shadow:0 6px 16px rgba(17,17,17,.06);
  }

  .hint{ opacity:.65; font-size:12px; text-align:center; max-width:90vw }
</style>
<body>
  <div class="wrap">
    <div id="frame"></div>
    <div class="hint">
      이 페이지는 <code>?list=플레이리스트ID</code>로 동작합니다.<br>
      예) <code>https://your-app.vercel.app/?list=PLxxxxxxxx</code>
    </div>
  </div>

<script>
const params = new URLSearchParams(location.search);
const LIST_ID = params.get("list");

const frameDiv = document.getElementById("frame");

if (!LIST_ID) {
  frameDiv.innerHTML = "<div style='padding:20px'>list 파라미터가 없습니다.</div>";
} else {
  // **Notion 호환용: 순차 재생, 컨트롤 숨김 가능**
  const src =
    `https://www.youtube.com/embed/videoseries?list=${encodeURIComponent(LIST_ID)}` +
    `&autoplay=1&loop=1&modestbranding=1&rel=0&playsinline=1&controls=1`;

  frameDiv.innerHTML =
    `<iframe src="${src}" allow="autoplay; encrypted-media" referrerpolicy="origin-when-cross-origin"></iframe>`;
}
</script>
</body>
</html>
